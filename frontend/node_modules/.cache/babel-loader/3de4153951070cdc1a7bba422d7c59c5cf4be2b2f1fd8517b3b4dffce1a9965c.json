{"ast":null,"code":"// src/components/CertificateDetail.js\nimport React,{useState,useEffect}from\"react\";import{useParams,Link}from\"react-router-dom\";import API from\"../api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CertificateDetail(_ref){var _inlineCert$certifica;let{data:propData}=_ref;// extrai o objeto certificate e o array points, se vierem inline\nconst inlineCert=propData===null||propData===void 0?void 0:propData.certificate;const inlinePoints=(propData===null||propData===void 0?void 0:propData.points)||[];// para rota\nconst{id:routeId}=useParams();const certId=(_inlineCert$certifica=inlineCert===null||inlineCert===void 0?void 0:inlineCert.certification_id)!==null&&_inlineCert$certifica!==void 0?_inlineCert$certifica:routeId;// estados\nconst[cert,setCert]=useState(inlineCert||null);const[points,setPoints]=useState(inlinePoints||[]);const[err,setErr]=useState(false);useEffect(()=>{// se já veio via prop, não refaz fetch\nif(inlineCert)return;API.get(`/search/certification/${certId}`).then(r=>{setCert(r.data.certificate);setPoints(r.data.points||[]);}).catch(()=>setErr(true));},[certId,inlineCert]);if(err)return/*#__PURE__*/_jsx(\"p\",{children:\"Certifica\\xE7\\xE3o n\\xE3o encontrada.\"});if(!cert)return/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{padding:16,marginTop:16},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Detalhes da Certifica\\xE7\\xE3o\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",cert.certification_id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Denomina\\xE7\\xE3o:\"}),\" \",cert[\"denominação\"]]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Propriet\\xE1rio(a):\"}),\" \",cert.proprietario]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Matr\\xEDcula:\"}),\" \",cert.matricula_imovel]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Natureza:\"}),\" \",cert.natureza_area]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"CNPJ:\"}),\" \",cert.cnpj]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Munic\\xEDpio/UF:\"}),\" \",cert.municipio_uf]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"C\\xF3digo INCRA/SNCR:\"}),\" \",cert.codigo_incra]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Respons\\xE1vel T\\xE9cnico:\"}),\" \",cert.responsavel_tecnico]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Forma\\xE7\\xE3o:\"}),\" \",cert.formacao]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"C\\xF3d. credenciamento:\"}),\" \",cert.codigo_credenciamento]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Sis. Geod\\xE9sico ref.:\"}),\" \",cert.sistema_geodesico]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Doc. RT:\"}),\" \",cert.documento_rt]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\xC1rea (local):\"}),\" \",cert.area_local]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Per\\xEDmetro:\"}),\" \",cert.perimetro]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Azimutes:\"}),\" \",cert.azimutes]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data Certif.:\"}),\" \",cert.data_certificacao]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data Gera\\xE7\\xE3o:\"}),\" \",cert.data_geracao]}),/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:24},children:\"Pontos Associados\"}),points.length>0?/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:\"none\",padding:0},children:points.map(pt=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:8},children:[/*#__PURE__*/_jsx(\"strong\",{children:pt.code}),\" \"]},pt.code))}):/*#__PURE__*/_jsx(\"p\",{children:\"N\\xE3o h\\xE1 pontos cadastrados para esta certifica\\xE7\\xE3o.\"}),!inlineCert&&/*#__PURE__*/_jsx(Link,{to:\"/certificates\",children:/*#__PURE__*/_jsx(\"button\",{style:{marginTop:16},children:\"Voltar \\xE0 lista\"})})]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","API","jsx","_jsx","jsxs","_jsxs","CertificateDetail","_ref","_inlineCert$certifica","data","propData","inlineCert","certificate","inlinePoints","points","id","routeId","certId","certification_id","cert","setCert","setPoints","err","setErr","get","then","r","catch","children","className","style","padding","marginTop","proprietario","matricula_imovel","natureza_area","cnpj","municipio_uf","codigo_incra","responsavel_tecnico","formacao","codigo_credenciamento","sistema_geodesico","documento_rt","area_local","perimetro","azimutes","data_certificacao","data_geracao","length","listStyle","map","pt","marginBottom","code","to"],"sources":["C:/Users/mathe/Desktop/Projeto_Sigef/frontend/src/components/CertificateDetail.js"],"sourcesContent":["// src/components/CertificateDetail.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport API from \"../api\";\r\n\r\nexport default function CertificateDetail({ data: propData }) {\r\n  // extrai o objeto certificate e o array points, se vierem inline\r\n  const inlineCert   = propData?.certificate;\r\n  const inlinePoints = propData?.points || [];\r\n\r\n  // para rota\r\n  const { id: routeId } = useParams();\r\n  const certId = inlineCert?.certification_id ?? routeId;\r\n\r\n  // estados\r\n  const [cert,   setCert]   = useState(inlineCert   || null);\r\n  const [points, setPoints] = useState(inlinePoints || []);\r\n  const [err,    setErr]    = useState(false);\r\n\r\n  useEffect(() => {\r\n    // se já veio via prop, não refaz fetch\r\n    if (inlineCert) return;\r\n\r\n    API.get(`/search/certification/${certId}`)\r\n      .then((r) => {\r\n        setCert(r.data.certificate);\r\n        setPoints(r.data.points || []);\r\n      })\r\n      .catch(() => setErr(true));\r\n  }, [certId, inlineCert]);\r\n\r\n  if (err)   return <p>Certificação não encontrada.</p>;\r\n  if (!cert) return <p>Carregando...</p>;\r\n\r\n  return (\r\n    <div className=\"card\" style={{ padding: 16, marginTop: 16 }}>\r\n      <h2>Detalhes da Certificação</h2>\r\n\r\n      <p><strong>ID:</strong> {cert.certification_id}</p>\r\n      <p><strong>Denominação:</strong> {cert[\"denominação\"]}</p>\r\n      <p><strong>Proprietário(a):</strong> {cert.proprietario}</p>\r\n      <p><strong>Matrícula:</strong> {cert.matricula_imovel}</p>\r\n      <p><strong>Natureza:</strong> {cert.natureza_area}</p>\r\n      <p><strong>CNPJ:</strong> {cert.cnpj}</p>\r\n      <p><strong>Município/UF:</strong> {cert.municipio_uf}</p>\r\n      <p><strong>Código INCRA/SNCR:</strong> {cert.codigo_incra}</p>\r\n      <p><strong>Responsável Técnico:</strong> {cert.responsavel_tecnico}</p>\r\n      <p><strong>Formação:</strong> {cert.formacao}</p>\r\n      <p><strong>Cód. credenciamento:</strong> {cert.codigo_credenciamento}</p>\r\n      <p><strong>Sis. Geodésico ref.:</strong> {cert.sistema_geodesico}</p>\r\n      <p><strong>Doc. RT:</strong> {cert.documento_rt}</p>\r\n      <p><strong>Área (local):</strong> {cert.area_local}</p>\r\n      <p><strong>Perímetro:</strong> {cert.perimetro}</p>\r\n      <p><strong>Azimutes:</strong> {cert.azimutes}</p>\r\n      <p><strong>Data Certif.:</strong> {cert.data_certificacao}</p>\r\n      <p><strong>Data Geração:</strong> {cert.data_geracao}</p>\r\n\r\n      <h3 style={{ marginTop: 24 }}>Pontos Associados</h3>\r\n      {points.length > 0 ? (\r\n        <ul style={{ listStyle: \"none\", padding: 0 }}>\r\n          {points.map((pt) => (\r\n            <li key={pt.code} style={{ marginBottom: 8 }}>\r\n              <strong>{pt.code}</strong>{\" \"}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <p>Não há pontos cadastrados para esta certificação.</p>\r\n      )}\r\n\r\n      {/* botão “voltar” só em modo rota */}\r\n      {!inlineCert && (\r\n        <Link to=\"/certificates\">\r\n          <button style={{ marginTop: 16 }}>Voltar à lista</button>\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}